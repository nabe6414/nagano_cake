<div class="container">
  <h3 class="text-success"><%= flash[:new_genre] %></h3>
  <h3 class="text-success"><%= flash[:update_genre] %></h3>
<% if @genre.errors.any? %>
  <h3 class="text-danger"><%= @genre.errors.count %>件のエラーが発生しました</h3>
  <ul>
    <% @genre.errors.full_messages.each do |message| %>
      <li><%= message %></li>
    <% end %>
  </ul>
<% end %>
</div>

<div class="container">
  <h2 class="my-4"><span class="bg-light">ジャンル一覧・追加</span></h2>

  <div class="row my-5">
    <div class="col-10 my-4">
    <%= form_with model: @genre, url: admin_genres_path(@genre.id), method: :post do |f| %>
    <table>
      <thead>
        <tr>
          <th class="col-2"></th>
          <th class="col-5"></th>
          <th class="col-2"></th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>ジャンル名</td>
          <td class="actions text-center"><%= f.text_field :name, placeholder: "ジャンル名", class: "form-control" %></td>
          <td class="actions text-center"><%= f.submit "新規登録", class: "btn btn-success" %></td>
        </tr>
      </tbody>
    </table>
    <% end %>
    </div>

    <div class="col-5 my-4">
      <table class="table">
        <thead class="table-light">
          <tr>
            <th class="text-center">ジャンル</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <% @genres.each do |genre| %>
          <tr>
            <td class="align-middle"><%= genre.name %></td>
            <td class="actions text-center"><%= link_to "編集する", edit_admin_genre_path(genre.id), class: "btn btn-success" %></td>
          </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>